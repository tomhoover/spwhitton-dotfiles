#!/bin/sh

# idempotent X settings

. $HOME/.shenv

# ---- no bell please

xset b off

# ---- keyboard settings

xset r rate 380 25
setxkbmap -option ctrl:nocaps
xmodmap ~/.xmodmaprc

# enable numlock if using USB keyboard, with an exception
if ! lsusb | grep -q "SiGma Micro Keyboard TRACER Gamma Ivory"; then
    . /etc/X11/Xsession.d/55numlockx
fi

# disable caps lock if I accidently hit it before running this script
if xset -q | grep "Caps Lock: *on" >/dev/null; then
    xdotool key Caps_Lock
fi

# ---- monitor settings

xset dpms 600
xsetroot -solid \#3f3f3f

# ---- workspace default layouts (currently only workspace 1)

per-workspace-layout.pl &
