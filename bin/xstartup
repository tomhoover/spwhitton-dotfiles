#!/bin/sh
. $HOME/.shenv

# stuff to start in XFCE or GNOME3

# ---- keyboard settings

setxkbmap -option ctrl:nocaps
setxkbmap -option "compose:ralt"
setxkbmap -layout gb
xbindkeys

# settings for (currently out of action) Apple USB keyboard

if lsusb | grep -q "Aluminum Keyboard"; then
    echo 2 | sudo tee /sys/module/hid_apple/parameters/fnmode > /dev/null
    xmodmap $HOME/.Xmodmap-Apple
    xset r rate 300
    sleep 2
    pkill zenity
fi

# ---- other stuff to launch

gtk-redshift -l 53.57:1.5 -t 6500:3700 &

# better if Emacs is started as a child of the desktop environment,
# unlike on a host which I just SSH to on which it's started with a
# @reboot line in crontab

emacs --daemon

# xlaunch-all

